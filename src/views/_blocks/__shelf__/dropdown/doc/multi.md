# DropDown (todo требуется доработка)

### Что это?
Компонент для выбора значений из списка, с возомжностью мультивыбора

### Пример использования.

```jsx harmony
<DropDown.Multi
    ref={r => {this.elements.animal = r;}}
    list={{ rabbit: 'Кролик', wolf: 'Волк', monkey: 'Обезьяна' }}
    onChange={this.handleChange('animal')}
    placeholder="Поиск"
    words={[ 'зверь', 'зверя', 'зверей' ]}
    defaultValue="Все звери"
    action={{ create: { value: 'добавить зверя', action: () => console.log('как-то добавляем зверя') } }}
/>
```

### props
* ...props - есть возможность передавать пропсы для родительского дива (например, можно задавать style)
* list - список значений, из которых можно выбирать. Это объект полей вида { key: value, ...  }
* selected - массив ключей выбранных полей
* placeholder - строка, которая ставится, когда ничего не выбрано (или выводится сверху для Single)
* disabled - если мы не хотим, чтобы наш dropdown был активным
* readOnly - запрет изменять значения
* onChange - (key, value) => {...} - функция, которая вызывается при каждом изменении selected
* words - три слова для склонения [ 'для оканчивающихся на 1', 'для оканчивающихся на 2', 'для оканчивающихся на 5' ]

### state
* open - состояние, когда у нас показывается список или нет
* selected - текущее выбранное значение
* search - строка, по которой идет поиск
* list - текущий список вида [{ key, value, searching }, ...]
* position - для перемещения по списку клавишами вверх-вниз

### methods
* set value - устанавливает новый набор выбранных значений
* get value - получаем набор выбранных значений
* handleDocumentClick - событие по клику по документу. В зависимости от того, кликнули по компоненту или вне его, делаем соответствующую работу
* handleFocus - вызывается, когда устанавливается фокус в поле ввода. По фокусу мы открываем попап и даем пользователю возможность искать значения в списке.
* handleItemClick - вызывается при клике по item'у
* handleKeyDown - реакция на клавиши (на стрелки, esc, enter)
* select - (key) => {...} добавление или удаление ключа выбранного значения в selected
* handleChange - (search, info) => {...} реакция на изменение поискового запроса
* getInfo - составление строки информации по текущему состоянию списка

### for developers
##### 1. Почему сортируем список
Поскольку при отслеживании изменений в selected нам не нужно учитывать порядок, то отдавать мы должны одинаковый массив для одинакогово набора данных
